{"ast":null,"code":"var _jsxFileName = \"/home/abu/Documents/dev/experiments/exp1/client/src/components/home/SnippetEditor.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport \"./SnippetEditor.scss\";\nimport ErrorMessage from \"../misc/ErrorMessage\";\nimport domain from \"../../util/domain\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SnippetEditor({\n  getSnippets,\n  setSnippetEditorOpen,\n  editSnippetData\n}) {\n  const [editorTitle, setEditorTitle] = useState(\"\");\n  const [editorDescription, setEditorDescription] = useState(\"\");\n  const [editorCode, setEditorCode] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  useEffect(() => {\n    if (editSnippetData) {\n      setEditorTitle(editSnippetData.title ? editSnippetData.title : \"\");\n      setEditorDescription(editSnippetData.description ? editSnippetData.description : \"\");\n      setEditorCode(editSnippetData.code ? editSnippetData.code : \"\");\n    }\n  }, [editSnippetData]);\n\n  async function saveSnippet(e) {\n    e.preventDefault();\n    const snippetData = {\n      title: editorTitle ? editorTitle : undefined,\n      description: editorDescription ? editorDescription : undefined,\n      code: editorCode ? editorCode : undefined\n    };\n\n    try {\n      if (!editSnippetData) await Axios.post(`${domain}/snippet/`, snippetData);else await Axios.put(`${domain}/snippet/${editSnippetData._id}`, snippetData);\n    } catch (err) {\n      if (err.response) {\n        if (err.response.data.errorMessage) {\n          setErrorMessage(err.response.data.errorMessage);\n        }\n      }\n\n      return;\n    }\n\n    getSnippets();\n    closeEditor();\n  }\n\n  function closeEditor() {\n    setSnippetEditorOpen(false);\n    setEditorCode(\"\");\n    setEditorDescription(\"\");\n    setEditorTitle(\"\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"snippet-editor\",\n    children: [errorMessage && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      message: errorMessage,\n      clear: () => setErrorMessage(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: saveSnippet,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"editor-title\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"editor-title\",\n        type: \"text\",\n        value: editorTitle,\n        onChange: e => setEditorTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"editor-description\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"editor-description\",\n        type: \"text\",\n        value: editorDescription,\n        onChange: e => setEditorDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"editor-code\",\n        children: \"Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"editor-code\",\n        value: editorCode,\n        onChange: e => setEditorCode(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-save\",\n        type: \"submit\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-cancel\",\n        type: \"button\",\n        onClick: closeEditor,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\nexport default SnippetEditor;","map":{"version":3,"sources":["/home/abu/Documents/dev/experiments/exp1/client/src/components/home/SnippetEditor.js"],"names":["React","useEffect","useState","Axios","ErrorMessage","domain","SnippetEditor","getSnippets","setSnippetEditorOpen","editSnippetData","editorTitle","setEditorTitle","editorDescription","setEditorDescription","editorCode","setEditorCode","errorMessage","setErrorMessage","title","description","code","saveSnippet","e","preventDefault","snippetData","undefined","post","put","_id","err","response","data","closeEditor","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport \"./SnippetEditor.scss\";\nimport ErrorMessage from \"../misc/ErrorMessage\";\nimport domain from \"../../util/domain\";\n\nfunction SnippetEditor({ getSnippets, setSnippetEditorOpen, editSnippetData }) {\n  const [editorTitle, setEditorTitle] = useState(\"\");\n  const [editorDescription, setEditorDescription] = useState(\"\");\n  const [editorCode, setEditorCode] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    if (editSnippetData) {\n      setEditorTitle(editSnippetData.title ? editSnippetData.title : \"\");\n      setEditorDescription(\n        editSnippetData.description ? editSnippetData.description : \"\"\n      );\n      setEditorCode(editSnippetData.code ? editSnippetData.code : \"\");\n    }\n  }, [editSnippetData]);\n\n  async function saveSnippet(e) {\n    e.preventDefault();\n\n    const snippetData = {\n      title: editorTitle ? editorTitle : undefined,\n      description: editorDescription ? editorDescription : undefined,\n      code: editorCode ? editorCode : undefined,\n    };\n\n    try {\n      if (!editSnippetData) await Axios.post(`${domain}/snippet/`, snippetData);\n      else\n        await Axios.put(\n          `${domain}/snippet/${editSnippetData._id}`,\n          snippetData\n        );\n    } catch (err) {\n      if (err.response) {\n        if (err.response.data.errorMessage) {\n          setErrorMessage(err.response.data.errorMessage);\n        }\n      }\n      return;\n    }\n\n    getSnippets();\n    closeEditor();\n  }\n\n  function closeEditor() {\n    setSnippetEditorOpen(false);\n    setEditorCode(\"\");\n    setEditorDescription(\"\");\n    setEditorTitle(\"\");\n  }\n\n  return (\n    <div className=\"snippet-editor\">\n      {errorMessage && (\n        <ErrorMessage\n          message={errorMessage}\n          clear={() => setErrorMessage(null)}\n        />\n      )}\n      <form className=\"form\" onSubmit={saveSnippet}>\n        <label htmlFor=\"editor-title\">Title</label>\n        <input\n          id=\"editor-title\"\n          type=\"text\"\n          value={editorTitle}\n          onChange={(e) => setEditorTitle(e.target.value)}\n        />\n\n        <label htmlFor=\"editor-description\">Description</label>\n        <input\n          id=\"editor-description\"\n          type=\"text\"\n          value={editorDescription}\n          onChange={(e) => setEditorDescription(e.target.value)}\n        />\n\n        <label htmlFor=\"editor-code\">Code</label>\n        <textarea\n          id=\"editor-code\"\n          value={editorCode}\n          onChange={(e) => setEditorCode(e.target.value)}\n        />\n\n        <button className=\"btn-save\" type=\"submit\">\n          Save\n        </button>\n        <button className=\"btn-cancel\" type=\"button\" onClick={closeEditor}>\n          Cancel\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default SnippetEditor;\n"]},"metadata":{},"sourceType":"module"}